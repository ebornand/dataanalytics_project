library(rmarkdown)
install.packages("rmarkdown")
install.packages("rmarkdown")
install.packages("rmarkdown")
library(rmarkdown)
render_site()
install.packages(distill)
install.packages("distill")
install.packages("distill")
install.packages("distill")
install.packages("distill")
install.packages("distill")
install.packages("distill")
install.packages("rjson")
data <- fromJSON("assets/hedonometer.json")
library(rjson)
data <- fromJSON(file = "assets/hedonometer.json")
data
data$happiness
summary(data)
data <- as.data.frame(data)
data_frame <- as.data.frame(data)
?as.data.frame
data_frame <- as.data.frame(x = data, row.names = c("date", "frequency", "happiness", "timeseries"))
data_frame <- as.data.frame(x = data, row.names = c("id", date", "frequency", "happiness", "timeseries"))
data_frame <- as.data.frame(x = data, row.names = c("id", "date", "frequency", "happiness", "timeseries"))
data_frame <- as.data.frame(data, optional = T)
data_frame <- as.data.frame(x = data, col.names = c("id", "date", "frequency", "happiness", "timeseries"))
data_frame <- as.data.frame(x = data, col.names = c("date", "frequency", "happiness", "timeseries"))
data_frame <- as.data.frame(x = data, col.names = c("happiness", "timeseries"))
install.packages("rjson")
library("rjson")
data_json <- fromJSON(file = "data/hedonometer.json")
library("rjson")
data_json <- fromJSON(file = "data/hedonometer.json")
date <- c()
frequency <- c()
happiness <- c()
timeseries <- c()
a_day <- c(date, frequency, happiness, timeseries)
for(i in data_json$objects) {
# we need to loop through every parameter of a day and save it into a neat dataframe
i
}
data_json$objects
for (i in data_json$objects) {
# we need to loop through every parameter of a day and save it into a neat dataframe
i
}
for (i in data_json$objects) {
# we need to loop through every parameter of a day and save it into a neat dataframe
print(i)
}
for (i in data_json$objects) {
# we need to loop through every parameter of a day and save it into a neat dataframe
date <- append(i$date)
frequency <- append(i$frequency)
happiness <- append(i$happiness)
timeseries <- append(i$timeseries)
}
?append
for (i in data_json$objects) {
# we need to loop through every parameter of a day and save it into a neat dataframe
date <- append(date, i$date)
frequency <- append(frequency, i$frequency)
happiness <- append(happiness, i$happiness)
timeseries <- append(timeseries, i$timeseries)
}
data <- data.frame(day_date = date, day_frequency = frequency, day_happiness = happiness, day_timeseries = timeseries)
data
data <- data.frame(date = date, frequency = frequency, happiness = happiness, timeseries = timeseries)
data
library("rmarkdown")
render_site()
knitr::opts_chunk$set(echo = FALSE)
# Learn more about creating websites with Distill at:
# https://rstudio.github.io/distill/website.html
install.packages("rjson")
install.packages("ggplot2")
library("rjson")
library("ggplot2")
de_json <- fromJSON(file = "http://hedonometer.org/api/v1/happiness/?format=json&timeseries__title=de_all&date__gte=2021-08-24&limit=1000")
en_json <- fromJSON(file = "http://hedonometer.org/api/v1/happiness/?format=json&timeseries__title=en_all&date__gte=2021-08-24&limit=1000")
ru_json <- fromJSON(file = "http://hedonometer.org/api/v1/happiness/?format=json&timeseries__title=ru_all&date__gte=2021-08-24&limit=1000")
# data_json contains two lists: meta and objects. we need to convert the objects-list into a nice dataframe
# we need to loop through the objects list. each element in data_json$objects contains another list with all the data for one day
# we create a vector for each variable
date <- c()
frequency <- c()
happiness <- c()
timeseries <- c()
# we loop through each element in data_json$objects and sort the parameters into their respective vector
for (i in de_json$objects) {
date <- append(date, as.Date(i$date))
frequency <- append(frequency, i$frequency)
happiness <- append(happiness, i$happiness)
timeseries <- append(timeseries, i$timeseries)
}
#creating the english language data frame
data_de <- data.frame(date = date, frequency = frequency, happiness = happiness, timeseries = timeseries)
date <- c()
frequency <- c()
happiness <- c()
timeseries <- c()
for (i in en_json$objects) {
date <- append(date, as.Date(i$date))
frequency <- append(frequency, i$frequency)
happiness <- append(happiness, i$happiness)
timeseries <- append(timeseries, i$timeseries)
}
#creating the german language data frame
data_en <- data.frame(date = date, frequency = frequency, happiness = happiness, timeseries = timeseries)
date <- c()
frequency <- c()
happiness <- c()
timeseries <- c()
for (i in ru_json$objects) {
date <- append(date, as.Date(i$date))
frequency <- append(frequency, i$frequency)
happiness <- append(happiness, i$happiness)
timeseries <- append(timeseries, i$timeseries)
}
#creating the russian language data frame
data_ru <- data.frame(date = date, frequency = frequency, happiness = happiness, timeseries = timeseries)
#creating a plot for the german language
plot_de <- ggplot(data_de, aes(x = date, y = happiness, group = 1)) +
geom_line() +
geom_point() +
geom_smooth() +
theme_light()
#creating a plot for the english language
plot_en <- ggplot(data_en, aes(x = date, y = happiness, group = 1)) +
geom_line() +
geom_point() +
geom_smooth() +
theme_light()
#creating a plot for the english language
plot_ru <- ggplot(data_ru, aes(x = date, y = happiness, group = 1)) +
geom_line() +
geom_point() +
geom_smooth() +
theme_light()
render_site()
render_site()
render_site()
render_site()
date <- c()
frequency <- c()
happiness <- c()
timeseries <- c()
# we loop through each element in data_json$objects and sort the parameters into their respective vector
for (i in data_json$objects) {
date <- append(date, as.Date(i$date))
frequency <- append(frequency, i$frequency)
happiness <- append(happiness, as.integer(i$happiness))
timeseries <- append(timeseries, i$timeseries)
}
# we now can create a clean dataframe with our sorted vectors, fabulous :)
data <- data.frame(date = date, frequency = frequency, happiness = happiness, timeseries = timeseries)
ggplot(data, aes(x = date, y = happiness, group = 1)) +
geom_line() +
geom_point() +
theme_light()
date <- c()
frequency <- c()
happiness <- c()
timeseries <- c()
# we loop through each element in data_json$objects and sort the parameters into their respective vector
for (i in data_json$objects) {
date <- append(date, as.Date(i$date))
frequency <- append(frequency, i$frequency)
happiness <- append(happiness, as.double(i$happiness))
timeseries <- append(timeseries, i$timeseries)
}
data <- data.frame(date = date, frequency = frequency, happiness = happiness, timeseries = timeseries)
# as we can see, the latest entry is from 19.03.2020 -.-, we need to take a closer look at the hedonometer api to get the latest data
ggplot(data, aes(x = date, y = happiness, group = 1)) +
geom_line() +
geom_point() +
theme_light()
date <- c()
frequency <- c()
happiness <- c()
timeseries <- c()
# we loop through each element in data_json$objects and sort the parameters into their respective vector
for (i in de_json$objects) {
date <- append(date, as.Date(i$date))
frequency <- append(frequency, i$frequency)
happiness <- append(happiness, as.Double(i$happiness))
timeseries <- append(timeseries, i$timeseries)
}
install.packages("rjson")
install.packages("ggplot2")
library("rjson")
library("ggplot2")
de_json <- fromJSON(file = "http://hedonometer.org/api/v1/happiness/?format=json&timeseries__title=de_all&date__gte=2021-08-24&limit=1000")
en_json <- fromJSON(file = "http://hedonometer.org/api/v1/happiness/?format=json&timeseries__title=en_all&date__gte=2021-08-24&limit=1000")
install.packages("rjson")
